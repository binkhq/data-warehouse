version: 2

models:
    - name: user
      description: "User table containing current and historical users"
      schema: 'Bink'
      columns:
        - name: 'ID'
          description: Primary Key of the table
          quote: true
          tests:
            - unique
            - not_null
    - name: transactions
      description: "Table containing historical transactions"
      schema: 'Bink'
      columns:
        - name: 'TRANSACTION_ID'
          description: Primary Key of the table
          quote: true
          tests:
            - unique
            - not_null
        - name: 'STATUS'
          description: Transaction most recent status
          quote: true
          tests:
            - unique
            - not_null
            - accepted_values:
                values: ['placed', 'shipped', 'completed', 'returned']
        - name: 'USER_ID'
          description: Transaction most recent status
          quote: true
          tests:
            - not_null
            - relationships:
                to: ref('user')
                field: ID
    - name: payment_accounts
      description: "Table containing payment accounts"
      schema: 'Bink'
      columns:
        - name: 'PAYMENT_ACCOUNT_ID'
          description: Primary Key of the table
          quote: true
          tests:
            - unique
            - not_null
    
    - name: loyalty_card
      description: "This is a dimension table containing loyalty card information "
      schema: 'Bink'
      columns:
        - name: 'LOYALTY_CARD_ID'
          description: Primary Key of the table
          quote: true
          tests:
            - unique
            - not_null

    - name: channel
      description: "A dimension table containing client data, realting to the channel field in events"
      schema: 'Bink'
      columns:
        - name: 'CHANNEL_ID'
          description: Primary Key of the table
          quote: true
          tests:
            - unique
            - not_null

    - name: date
      description: "A dimension table For dates / calendars"
      schema: 'Bink'
      columns:
        - name: 'DATE'
          description: Primary Key of the table
          quote: true
          tests:
            - unique
            - not_null

    - name: user_create_delete
      description: "Table containing events for user creation / deletion"
      schema: 'Bink'
      # columns:
      #   - name: 'TRANSACTION_ID'
      #     description: Primary Key of the table
      #     quote: true 
      #     tests:
      #       - unique
      #       - not_null  